<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chem-How | Ultra Lab & Training</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f172a; color: #f8fafc; line-height: 1.6; }
        .container { display: flex; min-height: 100vh; }

        /* Сайдбар */
        .sidebar {
            width: 280px; background: linear-gradient(180deg, #1e3a8a 0%, #0f172a 100%);
            color: white; padding: 20px 0; position: fixed; height: 100vh;
            left: 0; top: 0; transform: translateX(-100%); transition: transform 0.4s ease; z-index: 1000;
        }
        .sidebar.active { transform: translateX(0); }
        .sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 0 20px 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .nav-menu { list-style: none; padding: 20px 0; }
        .nav-item { padding: 15px 25px; cursor: pointer; transition: 0.3s; }
        .nav-item:hover, .nav-item.active { background: rgba(59, 130, 246, 0.2); border-left: 4px solid #3b82f6; }
        .nav-item a { color: white; text-decoration: none; display: flex; align-items: center; gap: 15px; }

        /* Контент */
        .main-content { flex: 1; padding: 30px; margin-left: 0; transition: 0.4s; }
        .top-bar { background: #1e293b; padding: 15px 25px; border-radius: 15px; margin-bottom: 30px; display: flex; align-items: center; border: 1px solid #334155; }
        .menu-toggle { background: #3b82f6; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; }

        .content-section { display: none; background: #1e293b; padding: 40px; border-radius: 20px; border: 1px solid #334155; box-shadow: 0 10px 30px rgba(0,0,0,0.5); animation: slideUp 0.4s ease; }
        .content-section.active { display: block; }

        /* Главная */
        .home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        .nav-box { background: #334155; padding: 40px 20px; border-radius: 20px; text-align: center; cursor: pointer; transition: 0.3s; border: 1px solid transparent; }
        .nav-box:hover { transform: translateY(-10px); border-color: #3b82f6; background: #1e293b; }
        .nav-box i { font-size: 3rem; color: #3b82f6; margin-bottom: 20px; }

        /* Галогены */
        .halogen-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 20px; }
        .element-card { background: #334155; border: 2px solid #3b82f6; border-radius: 15px; padding: 20px; text-align: center; cursor: pointer; transition: 0.3s; }
        .element-card:hover { background: #3b82f6; color: white; }
        .element-card .symbol { font-size: 2.2rem; font-weight: 800; color: #3b82f6; }
        .info-panel { display: none; margin-top: 30px; padding: 25px; background: #0f172a; border-radius: 15px; border: 1px solid #3b82f6; }
        .info-panel.active { display: block; }
        .quantum-box { display: flex; gap: 20px; margin: 15px 0; }
        .cell { width: 36px; height: 36px; border: 2px solid #3b82f6; display: inline-flex; align-items: center; justify-content: center; position: relative; background: #fff; color: #000; margin-right: 5px; }
        .cell.up::before { content: '↑'; color: #ef4444; font-weight: bold; }
        .cell.down::after { content: '↓'; color: #3b82f6; font-weight: bold; }

        /* ЛАБОРАТОРИЯ  */
        .lab-layout { display: grid; grid-template-columns: 1fr 450px; gap: 30px; }
        .shelf { background: #0f172a; padding: 20px; border-radius: 20px; border: 1px solid #334155; height: fit-content; }
        .shelf-title { font-size: 0.65rem; color: #94a3b8; text-transform: uppercase; margin: 10px 0 5px; border-bottom: 1px solid #334155; padding-bottom: 2px; }
        .btn-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }
        .lab-btn { background: #334155; color: #f1f5f9; border: none; padding: 6px 2px; border-radius: 6px; cursor: pointer; font-size: 0.7rem; transition: 0.2s; }
        .lab-btn:hover { border-color: #3b82f6; background: #1e293b; }

        .work-bench { background: radial-gradient(circle at center, #1e293b 0%, #020617 100%); border-radius: 25px; border: 2px solid #3b82f6; display: flex; flex-direction: column; align-items: center; padding: 30px; min-height: 650px; position: relative; }
        .test-tube { width: 85px; height: 240px; border: 2px solid rgba(255,255,255,0.25); border-top: none; border-radius: 0 0 42px 42px; position: relative; overflow: hidden; background: rgba(255,255,255,0.05); }
        .liquid { position: absolute; bottom: 0; width: 100%; height: 0%; transition: all 0.7s ease; z-index: 1; }
        .precipitate { position: absolute; bottom: 0; width: 100%; height: 0%; transition: all 1.2s ease; opacity: 0; z-index: 2; }
        
        .equation-box { margin-top: 20px; width: 100%; background: rgba(15, 23, 42, 0.9); padding: 15px; border-radius: 12px; border-left: 4px solid #3b82f6; display: none; }
        .eq-line { margin-bottom: 8px; font-family: 'Consolas', monospace; font-size: 0.8rem; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 3px; }
        .eq-label { color: #3b82f6; font-size: 0.6rem; text-transform: uppercase; font-weight: bold; display: block; }

        /* Тренажер */
        .task-card { background: #1e3a8a; padding: 20px; border-radius: 15px; margin-bottom: 25px; border-left: 5px solid #fbbf24; }
        #score-display { font-size: 1.2rem; font-weight: bold; color: #fbbf24; margin-bottom: 15px; }
        .success-msg { color: #10b981; font-weight: bold; margin-top: 10px; display: none; }

        .bubble { position: absolute; background: rgba(255,255,255,0.4); border-radius: 50%; animation: rise 1.5s infinite linear; }
        @keyframes rise { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-180px); opacity: 0; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo"><i class="fas fa-flask"></i><span>Chem-How</span></div>
            <button id="closeMenu" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        <ul class="nav-menu">
            <li class="nav-item" onclick="showSection('home-section')"><a><i class="fas fa-home"></i><span>Главная</span></a></li>
            <li class="nav-item" onclick="showSection('table-section')"><a><i class="fas fa-table"></i><span>Галогены</span></a></li>
            <li class="nav-item" onclick="showSection('lab-section')"><a><i class="fas fa-vial"></i><span>Лаборатория</span></a></li>
            <li class="nav-item" onclick="showSection('quiz-section')"><a><i class="fas fa-tasks"></i><span>Тренажер </span></a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="top-bar">
            <button class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i> Меню</button>
            <h2 style="margin-left: 20px; color: #3b82f6; font-size: 1rem;"> CHEM PLATFORM</h2>
        </div>

        <!-- ГЛАВНАЯ -->
        <div class="content-section active" id="home-section">
            <div class="home-grid">
                <div class="nav-box" onclick="showSection('table-section')"><i class="fas fa-table"></i><h3>Галогены</h3></div>
                <div class="nav-box" onclick="showSection('lab-section')"><i class="fas fa-flask"></i><h3>Лаборатория</h3></div>
                <div class="nav-box"><i class="fas fa-book-open"></i><h3>Теория</h3></div>
                <div class="nav-box" onclick="showSection('quiz-section')"><i class="fas fa-graduation-cap"></i><h3>Тренажер</h3></div>
            </div>
        </div>

        <!-- ГАЛОГЕНЫ -->
        <div class="content-section" id="table-section">
            <h2>Свойства Галогенов</h2>
            <div class="halogen-grid" style="margin-top: 20px;">
                <div class="element-card" onclick="inspect('F', 'Фтор', '2s2 2p5', 'Газ, светло-жёлтый', '71', '142')"><span class="number">9</span><div class="symbol">F</div>Фтор</div>
                <div class="element-card" onclick="inspect('Cl', 'Хлор', '3s2 3p5', 'Газ, жёлто-зелёный', '99', '199')"><span class="number">17</span><div class="symbol">Cl</div>Хлор</div>
                <div class="element-card" onclick="inspect('Br', 'Бром', '4s2 4p5', 'Жидкость, красно-бурая', '114', '228')"><span class="number">35</span><div class="symbol">Br</div>Бром</div>
                <div class="element-card" onclick="inspect('I', 'Йод', '5s2 5p5', 'Твердый, темно-серый', '133', '266')"><span class="number">53</span><div class="symbol">I</div>Йод</div>
            </div>
            <div id="infoPanel" class="info-panel">
                <h3 id="eName" style="color:#3b82f6;"></h3>
                <div class="quantum-box">
                    <div><div class="cell up down"></div></div>
                    <div><div class="cell up down"></div><div class="cell up down"></div><div class="cell up"></div></div>
                </div>
                <p id="ePhys"></p>
                <p id="eLayer" style="margin-top:10px; font-size:0.8rem;"></p>
            </div>
        </div>

        <!-- ЛАБОРАТОРИЯ  -->
        <div class="content-section" id="lab-section">
            <div class="lab-layout">
                <div class="shelf">
                    <div class="shelf-title">1. Основа (Катионы/Анионы)</div>
                    <div class="btn-grid">
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'Cl', 'NaCl')">NaCl</button>
                        <button class="lab-btn" onclick="setBase('rgba(254,240,138,0.3)', 'I', 'KI')">KI</button>
                        <button class="lab-btn" onclick="setBase('rgba(59,130,246,0.3)', 'Cu', 'CuSO4')">CuSO4</button>
                        <button class="lab-btn" onclick="setBase('rgba(251,191,36,0.3)', 'Fe3', 'FeCl3')">FeCl3</button>
                        <button class="lab-btn" onclick="setBase('rgba(147,197,253,0.2)', 'Al', 'AlCl3')">AlCl3</button>
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'CO3', 'Na2CO3')">Na2CO3</button>
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'S', 'Na2S')">Na2S</button>
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'SO4', 'Na2SO4')">Na2SO4</button>
                    </div>
                    <div class="shelf-title">2. Реактивы</div>
                    <div class="btn-grid">
                        <button class="lab-btn" onclick="addReagent('Ag', 'lab')">AgNO3</button>
                        <button class="lab-btn" onclick="addReagent('Ba', 'lab')">BaCl2</button>
                        <button class="lab-btn" onclick="addReagent('NaOH', 'lab')">NaOH</button>
                        <button class="lab-btn" onclick="addReagent('HCl', 'lab')">HCl</button>
                        <button class="lab-btn" onclick="addReagent('Pb', 'lab')">Pb(NO3)2</button>
                    </div>
                    <div class="shelf-title">3. Индикаторы</div>
                    <div class="btn-grid">
                        <button class="lab-btn" onclick="addIndicator('litmus')">Лакмус</button>
                        <button class="lab-btn" onclick="addIndicator('phen')">Фенолфт.</button>
                        <button class="lab-btn" onclick="addIndicator('orange')">Метилоранж</button>
                    </div>
                    <button onclick="resetLab('lab')" style="width:100%; margin-top:20px; padding:10px; background:#ef4444; border:none; border-radius:8px; color:white; font-weight:bold; cursor:pointer;">ОЧИСТИТЬ</button>
                </div>
                <div class="work-bench">
                    <div class="test-tube">
                        <div id="lab-liq" class="liquid"></div>
                        <div id="lab-pre" class="precipitate"></div>
                        <div id="lab-gas" style="position:absolute; bottom:0; width:100%; height:100%; display:none;"></div>
                    </div>
                    <p id="lab-status" style="margin-top:15px; font-weight:bold; color:#3b82f6;">Готов к работе</p>
                    <div id="lab-eq-box" class="equation-box">
                        <div class="eq-line"><span class="eq-label">Молекулярное</span><span id="lab-mol"></span></div>
                        <div class="eq-line"><span class="eq-label">Полное ионное</span><span id="lab-piu"></span></div>
                        <div class="eq-line"><span class="eq-label">Сокращенное ионное</span><span id="lab-siu"></span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ТРЕНАЖЕР -->
        <div class="content-section" id="quiz-section">
            <div id="score-display">Баллы ОГЭ: <span id="points">0</span></div>
            <div class="task-card">
                <h4 style="color: #fbbf24; margin-bottom: 5px;">Задание №23:</h4>
                <p id="task-text">Нажмите "Новое задание", чтобы начать.</p>
                <button onclick="generateTask()" style="margin-top: 10px; background: #3b82f6; border: none; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer;">Новое задание</button>
            </div>
            <div class="lab-layout">
                <div class="shelf">
                    <div class="shelf-title">Реактивы ОГЭ:</div>
                    <div class="btn-grid">
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'Cl', 'NaCl', 'quiz')">NaCl</button>
                        <button class="lab-btn" onclick="setBase('rgba(255,255,255,0.1)', 'CO3', 'Na2CO3', 'quiz')">Na2CO3</button>
                        <button class="lab-btn" onclick="setBase('rgba(59,130,246,0.3)', 'Cu', 'CuSO4', 'quiz')">CuSO4</button>
                    </div>
                    <div class="shelf-title">Действие:</div>
                    <div class="btn-grid">
                        <button class="lab-btn" onclick="addReagent('Ag', 'quiz')">AgNO3</button>
                        <button class="lab-btn" onclick="addReagent('NaOH', 'quiz')">NaOH</button>
                        <button class="lab-btn" onclick="addReagent('HCl', 'quiz')">HCl</button>
                    </div>
                    <button onclick="resetLab('quiz')" style="width:100%; margin-top:20px; padding:10px; background:#ef4444; border:none; border-radius:8px; color:white; font-weight:bold; cursor:pointer;">СБРОС</button>
                </div>
                <div class="work-bench">
                    <div class="test-tube">
                        <div id="quiz-liq" class="liquid"></div>
                        <div id="quiz-pre" class="precipitate"></div>
                        <div id="quiz-gas" style="position:absolute; bottom:0; width:100%; height:100%; display:none;"></div>
                    </div>
                    <p id="quiz-status" style="margin-top:15px; font-weight:bold;">Выберите реактивы</p>
                    <div id="quiz-success" class="success-msg">ВЕРНО! +2 балла</div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    function showSection(id) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.getElementById('sidebar').classList.remove('active');
    }
    document.getElementById('menuToggle').onclick = () => document.getElementById('sidebar').classList.add('active');
    document.getElementById('closeMenu').onclick = () => document.getElementById('sidebar').classList.remove('active');

    function inspect(s, n, l, p) {
        document.getElementById('infoPanel').classList.add('active');
        document.getElementById('eName').innerText = n + " (" + s + ")";
        document.getElementById('ePhys').innerText = p;
        document.getElementById('eLayer').innerText = "Слой: " + l;
    }

    let curAnion = { lab: '', quiz: '' };
    let score = 0, activeTask = null, isFinished = false;

    function setBase(color, anion, name, mode = 'lab') {
        if(mode === 'quiz' && isFinished) return;
        resetLab(mode);
        document.getElementById(mode + '-liq').style.height = '60%';
        document.getElementById(mode + '-liq').style.background = color;
        curAnion[mode] = anion;
        document.getElementById(mode + '-status').innerText = 'Раствор ' + name;
    }

    function addReagent(reagent, mode) {
        if (!curAnion[mode] || (mode === 'quiz' && isFinished)) return;
        const pr = document.getElementById(mode + '-pre');
        const st = document.getElementById(mode + '-status');

        // Логика Ultra Lab
        if (reagent === 'Ag') {
            if (curAnion[mode] === 'Cl') updateV(mode, '#fff', 'AgCl↓ Белый осадок', "AgNO3 + NaCl = AgCl↓ + NaNO3", "Ag + NO3 + Na + Cl = AgCl↓ + Na + NO3", "Ag + Cl = AgCl↓");
            else if (curAnion[mode] === 'I') updateV(mode, '#fde047', 'AgI↓ Желтый осадок', "AgNO3 + KI = AgI↓ + KNO3", "Ag + NO3 + K + I = AgI↓ + K + NO3", "Ag + I = AgI↓");
        } else if (reagent === 'NaOH') {
            if (curAnion[mode] === 'Cu') updateV(mode, '#0ea5e9', 'Cu(OH)2↓ Голубой', "CuSO4 + 2NaOH = Cu(OH)2↓ + Na2SO4", "Cu + SO4 + 2Na + 2OH = Cu(OH)2↓ + 2Na + SO4", "Cu + 2OH = Cu(OH)2↓");
            else if (curAnion[mode] === 'Fe3') updateV(mode, '#92400e', 'Fe(OH)3↓ Бурый', "FeCl3 + 3NaOH = Fe(OH)3↓ + 3NaCl", "Fe + 3Cl + 3Na + 3OH = Fe(OH)3↓ + 3Na + 3Cl", "Fe + 3OH = Fe(OH)3↓");
            else if (curAnion[mode] === 'Al') updateV(mode, '#fff', 'Al(OH)3↓ Белый гель', "AlCl3 + 3NaOH = Al(OH)3↓ + 3NaCl", "Al + 3Cl + 3Na + 3OH = Al(OH)3↓ + 3Na + 3Cl", "Al + 3OH = Al(OH)3↓");
        } else if (reagent === 'Ba' && curAnion[mode] === 'SO4') {
            updateV(mode, '#fff', 'BaSO4↓ Белый осадок', "BaCl2 + Na2SO4 = BaSO4↓ + 2NaCl", "Ba + 2Cl + 2Na + SO4 = BaSO4↓ + 2Na + 2Cl", "Ba + SO4 = BaSO4↓");
        } else if (reagent === 'HCl' && curAnion[mode] === 'CO3') {
            document.getElementById(mode + '-gas').style.display='block'; createB(mode); 
            updateV(mode, 'transparent', 'Газ CO2↑', "Na2CO3 + 2HCl = 2NaCl + CO2↑ + H2O", "2Na + CO3 + 2H + 2Cl = 2Na + 2Cl + CO2↑ + H2O", "CO3 + 2H = CO2↑ + H2O");
        } else if (reagent === 'Pb' && curAnion[mode] === 'S') {
            updateV(mode, '#000', 'PbS↓ Черный осадок', "Pb(NO3)2 + Na2S = PbS↓ + 2NaNO3", "Pb + 2NO3 + 2Na + S = PbS↓ + 2Na + 2NO3", "Pb + S = PbS↓");
        } else { st.innerText = "Реакция не идет"; }

        if (mode === 'quiz' && activeTask && curAnion[mode] === activeTask.b && reagent === activeTask.r) {
            score += 2; document.getElementById('points').innerText = score;
            document.getElementById('quiz-success').style.display = 'block'; isFinished = true;
        }
    }

    function addIndicator(ind) {
        if (!curAnion['lab']) return;
        const liq = document.getElementById('lab-liq'), st = document.getElementById('lab-status');
        const isBase = curAnion['lab'] === 'CO3' || curAnion['lab'] === 'S';
        if (ind === 'phen') { liq.style.background = isBase ? '#ff00ff' : 'rgba(255,255,255,0.1)'; st.innerText = isBase ? "Малиновый (Щелочная)" : "Бесцветный"; }
        else if (ind === 'litmus') { liq.style.background = isBase ? 'blue' : 'violet'; st.innerText = isBase ? "Синий (Щелочная)" : "Фиолетовый"; }
        else if (ind === 'orange') { liq.style.background = isBase ? 'yellow' : 'orange'; st.innerText = isBase ? "Желтый (Щелочная)" : "Оранжевый"; }
    }

    function updateV(m, c, t, mol, piu, siu) {
        const pr = document.getElementById(m + '-pre');
        if(c !== 'transparent') { pr.style.height = '25%'; pr.style.opacity = '1'; pr.style.background = c; }
        document.getElementById(m + '-status').innerText = t;
        if(m === 'lab') {
            document.getElementById('lab-eq-box').style.display = 'block';
            document.getElementById('lab-mol').innerHTML = f(mol);
            document.getElementById('lab-piu').innerHTML = f(piu);
            document.getElementById('lab-siu').innerHTML = f(siu);
        }
    }

    function f(t) { return t.replace(/(\d+)/g, '<sub>$1</sub>'); }
    function createB(m) {
        const box = document.getElementById(m + '-gas'); box.innerHTML = '';
        for(let i=0; i<15; i++) {
            let b = document.createElement('div'); b.className = 'bubble';
            b.style.left = Math.random()*70+'px'; b.style.width = b.style.height = '6px';
            b.style.animationDelay = Math.random()+'s'; box.appendChild(b);
        }
    }

    function resetLab(m) {
        document.getElementById(m + '-liq').style.height = '0';
        document.getElementById(m + '-pre').style.opacity = '0';
        document.getElementById(m + '-gas').style.display = 'none';
        if(m === 'lab') document.getElementById('lab-eq-box').style.display = 'none';
        if(m === 'quiz') document.getElementById('quiz-success').style.display = 'none';
        curAnion[m] = '';
    }

    const tasks = [
        { t: "Докажите наличие Cl- в NaCl", b: 'Cl', r: 'Ag' },
        { t: "Получите голубой осадок меди", b: 'Cu', r: 'NaOH' },
        { t: "Докажите наличие CO3 2- газом", b: 'CO3', r: 'HCl' }
    ];
    function generateTask() { resetLab('quiz'); activeTask = tasks[Math.floor(Math.random()*tasks.length)]; document.getElementById('task-text').innerText = activeTask.t; isFinished = false; }
</script>
</body>
</html>



